@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 246 30% 6%;
    --foreground: 240 7% 80%;
    --card: 246 30% 12%;
    --card-foreground: 240 7% 80%;
    --popover: 246 30% 6%;
    --popover-foreground: 240 7% 80%;
    --primary: 265 90% 70%;
    --primary-foreground: 240 7% 95%;
    --secondary: 240 10% 20%;
    --secondary-foreground: 240 7% 95%;
    --muted: 240 10% 20%;
    --muted-foreground: 240 5% 55%;
    --accent: 300 90% 70%;
    --accent-foreground: 240 7% 95%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 240 10% 20%;
    --input: 240 10% 20%;
    --ring: 265 90% 70%;
    --chart-1: 265 90% 70%;
    --chart-2: 300 90% 70%;
    --chart-3: 198 93% 60%;
    --chart-4: 283 100% 41%;
    --chart-5: 342.1 92.5% 61.4%;
  }

  .dark {
    --background: 246 30% 6%;
    --foreground: 240 7% 80%;
    --card: 246 30% 12%;
    --card-foreground: 240 7% 80%;
    --popover: 246 30% 6%;
    --popover-foreground: 240 7% 80%;
    --primary: 265 90% 70%;
    --primary-foreground: 240 7% 95%;
    --secondary: 240 10% 20%;
    --secondary-foreground: 240 7% 95%;
    --muted: 240 10% 20%;
    --muted-foreground: 240 5% 55%;
    --accent: 300 90% 70%;
    --accent-foreground: 240 7% 95%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 85.7% 97.3%;
    --border: 240 10% 20%;
    --input: 240 10% 20%;
    --ring: 265 90% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
  }
}

@layer components {
  .glassmorphic-card {
    @apply bg-card/50 backdrop-blur-lg border border-white/10 shadow-lg transition-all duration-300;
  }

  .glassmorphic-card:hover {
    @apply shadow-2xl shadow-primary/20 border-white/20;
    transform: translateY(-4px);
  }

  .book-nav-item {
    @apply relative w-12 flex items-center justify-center cursor-pointer transition-all duration-300 ease-in-out;
    background: linear-gradient(to right, hsl(var(--book-color-hue), 20%, 30%), hsl(var(--book-color-hue), 25%, 40%));
    border-left: 3px solid hsl(var(--book-color-hue), 30%, 50%);
    box-shadow: inset -3px 0 5px rgba(0,0,0,0.3), 2px 0 4px rgba(0,0,0,0.4);
    transform-origin: center;
    will-change: transform;
    border-radius: calc(var(--radius) - 4px);
    transform-style: preserve-3d;
  }
  
  .book-nav-item.main-book {
    @apply h-16;
  }
  
  .book-nav-item.tool-book {
    @apply h-12;
  }

  .book-nav-item.float-anim {
    animation: float-animation var(--animation-duration, 8s) ease-in-out infinite var(--animation-delay, 0s);
  }

  .book-nav-item::before {
    content: '';
    position: absolute;
    top: 4px;
    bottom: 4px;
    left: 2px;
    width: 2px;
    background: linear-gradient(to bottom, hsl(var(--book-color-hue), 20%, 60%), hsl(var(--book-color-hue), 25%, 40%));
  }
  
  .book-nav-item.active {
    box-shadow: 
      inset -3px 0 8px rgba(0,0,0,0.3), 
      0 0 25px hsla(var(--book-color-hue), 50%, 70%, 1),
      0 0 12px hsla(var(--book-color-hue), 50%, 70%, 0.7),
      0 0 5px hsl(var(--book-color-hue), 50%, 80%);
  }
  
  .book-nav-item.active::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background-color: hsl(var(--book-color-hue), 80%, 85%);
    border-radius: inherit;
    animation: active-icon-pulse 2s ease-in-out infinite;
  }
  
  .active-icon {
    animation: active-icon-pulse 2s ease-in-out infinite;
  }
  
  .page-container {
    @apply rounded-lg p-4 lg:p-6 transition-colors duration-500 relative;
    background: 
      radial-gradient(ellipse at 100% 0%, var(--page-primary-color) / 0.25),
      radial-gradient(ellipse at 0% 100%, var(--page-accent-color) / 0.25),
      hsl(var(--background) / 0.5);
    box-shadow: 0 0 40px var(--page-primary-color) / 0.1;
    backdrop-filter: blur(12px);
  }
  
  .page-container > * {
    --primary: var(--page-primary-color) !important;
    --accent: var(--page-accent-color) !important;
    --ring: var(--page-primary-color) !important;
  }

  .page-container::before,
  .page-container::after {
    content: '';
    position: absolute;
    width: 2rem;
    height: 2rem;
    transition: all 0.5s ease-in-out;
    border-color: var(--page-primary-color);
    filter: drop-shadow(0 0 5px var(--page-primary-color));
  }

  .page-container::before {
    top: -4px;
    left: -4px;
    border-top: 2px solid;
    border-left: 2px solid;
  }

  .page-container::after {
    bottom: -4px;
    right: -4px;
    border-bottom: 2px solid;
    border-right: 2px solid;
  }

  .spell-effect {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
  }
  
  .magical-glow {
    @apply text-transparent bg-clip-text;
    background-image: linear-gradient(to right, var(--page-primary-color), var(--page-accent-color));
    text-shadow: 0 0 8px var(--page-primary-color, hsl(var(--primary))), 0 0 16px var(--page-accent-color, hsl(var(--accent)));
  }

  #stars {
    width: 1px;
    height: 1px;
    background: transparent;
    box-shadow: 
      1889px 1381px #FFF, 1581px 1869px #FFF, 129px 1279px #FFF, 1877px 308px #FFF, 73px 1438px #FFF, 1943px 1083px #FFF, 1374px 137px #FFF, 483px 184px #FFF, 1591px 1533px #FFF, 915px 1572px #FFF, 646px 1318px #FFF, 163px 1588px #FFF, 1490px 1032px #FFF, 891px 156px #FFF, 333px 1238px #FFF, 989px 835px #FFF, 114px 1017px #FFF, 1316px 1488px #FFF, 571px 1282px #FFF, 1827px 1868px #FFF, 127px 1137px #FFF, 1339px 269px #FFF, 1307px 1904px #FFF, 1989px 1957px #FFF, 1025px 1305px #FFF, 1378px 129px #FFF, 1845px 339px #FFF, 1828px 1599px #FFF, 319px 1930px #FFF, 1156px 1384px #FFF, 1933px 666px #FFF, 1424px 1729px #FFF, 609px 1459px #FFF, 866px 1386px #FFF, 1269px 74px #FFF, 1331px 1746px #FFF, 1529px 165px #FFF, 1819px 1813px #FFF, 1603px 1098px #FFF, 1493px 895px #FFF;
    animation: animStar 50s linear infinite;
  }
  #stars:after {
    content: " ";
    position: absolute;
    top: 2000px;
    width: 1px;
    height: 1px;
    background: transparent;
    box-shadow: 
      1889px 1381px #FFF, 1581px 1869px #FFF, 129px 1279px #FFF, 1877px 308px #FFF, 73px 1438px #FFF, 1943px 1083px #FFF, 1374px 137px #FFF, 483px 184px #FFF, 1591px 1533px #FFF, 915px 1572px #FFF, 646px 1318px #FFF, 163px 1588px #FFF, 1490px 1032px #FFF, 891px 156px #FFF, 333px 1238px #FFF, 989px 835px #FFF, 114px 1017px #FFF, 1316px 1488px #FFF, 571px 1282px #FFF, 1827px 1868px #FFF, 127px 1137px #FFF, 1339px 269px #FFF, 1307px 1904px #FFF, 1989px 1957px #FFF, 1025px 1305px #FFF, 1378px 129px #FFF, 1845px 339px #FFF, 1828px 1599px #FFF, 319px 1930px #FFF, 1156px 1384px #FFF, 1933px 666px #FFF, 1424px 1729px #FFF, 609px 1459px #FFF, 866px 1386px #FFF, 1269px 74px #FFF, 1331px 1746px #FFF, 1529px 165px #FFF, 1819px 1813px #FFF, 1603px 1098px #FFF, 1493px 895px #FFF;
  }
  #stars2 {
    width: 2px;
    height: 2px;
    background: transparent;
    box-shadow: 1531px 1052px #FFF, 1633px 1809px #FFF, 1930px 134px #FFF, 946px 1538px #FFF, 1524px 1416px #FFF, 1183px 683px #FFF, 1032px 14px #FFF, 1895px 168px #FFF, 198px 132px #FFF, 898px 1455px #FFF, 1735px 304px #FFF, 1515px 1750px #FFF, 1420px 1192px #FFF, 1502px 166px #FFF, 755px 1714px #FFF, 1428px 1431px #FFF, 853px 432px #FFF, 110px 1406px #FFF, 1490px 1842px #FFF, 1941px 1039px #FFF;
    animation: animStar2 100s linear infinite;
  }
  #stars2:after {
    content: " ";
    position: absolute;
    top: 2000px;
    width: 2px;
    height: 2px;
    background: transparent;
    box-shadow: 1531px 1052px #FFF, 1633px 1809px #FFF, 1930px 134px #FFF, 946px 1538px #FFF, 1524px 1416px #FFF, 1183px 683px #FFF, 1032px 14px #FFF, 1895px 168px #FFF, 198px 132px #FFF, 898px 1455px #FFF, 1735px 304px #FFF, 1515px 1750px #FFF, 1420px 1192px #FFF, 1502px 166px #FFF, 755px 1714px #FFF, 1428px 1431px #FFF, 853px 432px #FFF, 110px 1406px #FFF, 1490px 1842px #FFF, 1941px 1039px #FFF;
  }
  #stars3 {
    width: 3px;
    height: 3px;
    background: transparent;
    box-shadow: 140px 1325px #FFF, 1066px 1445px #FFF, 1545px 38px #FFF, 1552px 1335px #FFF, 1664px 343px #FFF, 1569px 1599px #FFF, 104px 1500px #FFF, 145px 1199px #FFF, 335px 1409px #FFF, 178px 1205px #FFF;
    animation: animStar3 150s linear infinite;
  }
  #stars3:after {
    content: " ";
    position: absolute;
    top: 2000px;
    width: 3px;
    height: 3px;
    background: transparent;
    box-shadow: 140px 1325px #FFF, 1066px 1445px #FFF, 1545px 38px #FFF, 1552px 1335px #FFF, 1664px 343px #FFF, 1569px 1599px #FFF, 104px 1500px #FFF, 145px 1199px #FFF, 335px 1409px #FFF, 178px 1205px #FFF;
  }

  .book-spin-anim {
    animation: book-spin 2s ease-in-out;
  }
  .book-glow-anim {
    animation: book-glow 2s ease-in-out;
  }

}

@layer utilities {
  .hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera*/
  }

  @keyframes float-animation {
    0% { transform: translate(0px, 0px); }
    25% { transform: translate(var(--float-x1, 2px), var(--float-y1, -3px)); }
    50% { transform: translate(var(--float-x2, -1px), var(--float-y2, 2px)); }
    75% { transform: translate(var(--float-x3, 1px), var(--float-y3, -4px)); }
    100% { transform: translate(0px, 0px); }
  }

  @keyframes galaxy-movement {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes stars-twinkle {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
  }

  @keyframes shooting-star {
    0% { transform: translateX(300vw) translateY(0); opacity: 1; }
    100% { transform: translateX(-50vw) translateY(100vh); opacity: 0; }
  }

  @keyframes shooting-star-horizontal {
    0% { transform: translateY(100vh) translateX(0); opacity: 1; }
    100% { transform: translateY(-50vh) translateX(100vw); opacity: 0; }
  }
  
  @keyframes active-icon-pulse {
    0% {
      color: hsl(var(--book-color-hue), 80%, 85%);
      filter: drop-shadow(0 0 3px hsl(var(--book-color-hue), 80%, 85%));
      box-shadow: 0 0 10px 2px hsl(var(--book-color-hue), 80%, 85%), 0 0 20px 5px hsl(var(--book-color-hue), 80%, 85% / 0.7);
    }
    50% {
      color: hsl(var(--book-color-hue), 90%, 90%);
      filter: drop-shadow(0 0 8px hsl(var(--book-color-hue), 80%, 85%));
      box-shadow: 0 0 14px 4px hsl(var(--book-color-hue), 80%, 85%), 0 0 28px 7px hsl(var(--book-color-hue), 80%, 85% / 0.7);
    }
    100% {
      color: hsl(var(--book-color-hue), 80%, 85%);
      filter: drop-shadow(0 0 3px hsl(var(--book-color-hue), 80%, 85%));
      box-shadow: 0 0 10px 2px hsl(var(--book-color-hue), 80%, 85%), 0 0 20px 5px hsl(var(--book-color-hue), 80%, 85% / 0.7);
    }
  }

#title {
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  
  color: #FFF;
  text-align: center;
  font-family: 'lato',sans-serif;
  font-weight: 300;
  font-size: 50px;
  letter-spacing: 10px;
  
  margin-top: -60px;
  padding-left: 10px;
}

#title span {
    background: -webkit-linear-gradient(white, #38495a);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
    
@keyframes animStar {
  from { transform: translateY(0px); }
  to { transform: translateY(-2000px); }
}

@keyframes animStar2 {
  from { transform: translateY(0px); }
  to { transform: translateY(-2000px); }
}

@keyframes animStar3 {
  from { transform: translateY(0px); }
  to { transform: translateY(-2000px); }
}

@keyframes book-spin {
  0% {
    transform: perspective(1000px) rotateY(0deg);
  }
  100% {
    transform: perspective(1000px) rotateY(1440deg);
  }
}

@keyframes book-glow {
    0% {
        box-shadow: 0 0 10px 2px hsl(var(--book-color-hue), 80%, 85%), 0 0 20px 5px hsl(var(--book-color-hue), 80%, 85% / 0.7);
    }
    50% {
        box-shadow: 0 0 15px hsl(var(--book-color-hue), 70%, 60%), 0 0 30px hsl(var(--book-color-hue), 70%, 60% / 0.7);
    }
    90% {
        box-shadow: 
          0 0 60px 30px hsl(var(--book-color-hue), 90%, 75%), 
          0 0 30px 15px #fff,
          0 0 15px 5px hsl(var(--book-color-hue), 90%, 75%);
    }
    100% {
        box-shadow: 0 0 14px 4px hsl(var(--book-color-hue), 80%, 85%), 0 0 28px 7px hsl(var(--book-color-hue), 80%, 85% / 0.7);
    }
}

}
    