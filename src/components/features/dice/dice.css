:root {
  --die-size: 80px;
}

.die-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  perspective: 1200px;
}

.die-label {
  margin-top: 1rem;
  font-weight: bold;
  color: hsl(var(--foreground) / 0.8);
  font-family: var(--font-headline);
  font-size: 1.1rem;
}

.die-wrapper {
  position: relative;
  width: var(--die-size);
  height: var(--die-size);
  transform-style: preserve-3d;
  transition: transform 1s;
  transform: rotateX(0deg) rotateY(0deg);
}

.die-container:hover .die-wrapper {
  transform: rotateX(-15deg) rotateY(15deg);
}

.die-wrapper.rolling {
  animation: roll 1s ease-out;
}

.die {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

.faces {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

.die-face {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: hsla(var(--die-hue, 265), 80%, 60%, 0.8);
  border: 1px solid hsla(var(--die-hue, 265), 90%, 70%, 1);
  color: white;
  font-size: calc(var(--die-size) / 2.5);
  font-weight: bold;
  text-shadow: 0 0 5px hsla(var(--die-hue, 265), 90%, 80%, 0.8);
  backdrop-filter: blur(5px);
}

/* D4 - Tetrahedron */
.d4 {
  transform: translateY(calc(var(--die-size) * 0.1));
}
.d4 .die-face {
  width: var(--die-size);
  height: calc(var(--die-size) * 0.866); /* Equilateral triangle height */
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  padding-bottom: calc(var(--die-size) * 0.2);
}
.d4 .faces {
  transform: rotateY(30deg) rotateX(19.47deg);
}
.d4 .face-front { transform: rotateY(0deg) translateZ(calc(var(--die-size) * 0.2887)); }
.d4 .face-right { transform: rotateY(120deg) translateZ(calc(var(--die-size) * 0.2887)); }
.d4 .face-back { transform: rotateY(240deg) translateZ(calc(var(--die-size) * 0.2887)); }
.d4 .face-bottom {
  transform: rotateY(180deg) rotateX(-70.53deg) translateZ(calc(var(--die-size) * 0.2887));
  padding: 0;
  padding-top: calc(var(--die-size) * 0.2);
}


/* D6 - Cube */
.d6 .die-face {
  width: var(--die-size);
  height: var(--die-size);
}
.d6 .face-front  { transform: rotateY(  0deg) translateZ(calc(var(--die-size) / 2)); }
.d6 .face-back   { transform: rotateY(180deg) translateZ(calc(var(--die-size) / 2)); }
.d6 .face-right  { transform: rotateY( 90deg) translateZ(calc(var(--die-size) / 2)); }
.d6 .face-left   { transform: rotateY(-90deg) translateZ(calc(var(--die-size) / 2)); }
.d6 .face-top    { transform: rotateX( 90deg) translateZ(calc(var(--die-size) / 2)); }
.d6 .face-bottom { transform: rotateX(-90deg) translateZ(calc(var(--die-size) / 2)); }


/* D8 - Octahedron */
.d8 {
    transform: rotateX(15deg) rotateY(15deg);
}
.d8 .die-face {
    width: var(--die-size);
    height: calc(var(--die-size) * 0.866); /* Equilateral triangle height */
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    font-size: calc(var(--die-size) / 3);
    padding-bottom: calc(var(--die-size) * 0.15);
}
.d8 .faces {
    transform-style: preserve-3d;
}
.d8 .face-1 { transform: rotateY(0deg) rotateX(54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)); }
.d8 .face-2 { transform: rotateY(90deg) rotateX(-54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)) rotateZ(180deg); }
.d8 .face-3 { transform: rotateY(180deg) rotateX(54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)); }
.d8 .face-4 { transform: rotateY(270deg) rotateX(-54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)) rotateZ(180deg); }
.d8 .face-5 { transform: rotateY(0deg) rotateX(-54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)) rotateZ(180deg); }
.d8 .face-6 { transform: rotateY(90deg) rotateX(54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)); }
.d8 .face-7 { transform: rotateY(180deg) rotateX(-54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)) rotateZ(180deg); }
.d8 .face-8 { transform: rotateY(270deg) rotateX(54.75deg) translate3d(0, 0, calc(var(--die-size) * 0.3535)); }


/* D10 - Pentagonal Trapezohedron */
.d10 { transform: rotateX(10deg) rotateY(10deg); }
.d10 .die-face {
    width: calc(var(--die-size) * 0.79);
    height: calc(var(--die-size) * 0.75);
    clip-path: polygon(50% 0, 100% 38%, 50% 100%, 0 38%);
    font-size: calc(var(--die-size) / 3);
}
.d10 .face-0 { transform: rotateY(0deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.42)); }
.d10 .face-1 { transform: rotateY(36deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.42)) rotateZ(180deg); }
.d10 .face-2 { transform: rotateY(72deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.42)); }
.d10 .face-3 { transform: rotateY(108deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.42)) rotateZ(180deg); }
.d10 .face-4 { transform: rotateY(144deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.42)); }
.d10 .face-5 { transform: rotateY(180deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.42)) rotateZ(180deg); }
.d10 .face-6 { transform: rotateY(216deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.42)); }
.d10 .face-7 { transform: rotateY(252deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.42)) rotateZ(180deg); }
.d10 .face-8 { transform: rotateY(288deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.42)); }
.d10 .face-9 { transform: rotateY(324deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.42)) rotateZ(180deg); }


/* D12 - Dodecahedron */
.d12 { transform: rotateX(10deg) rotateY(10deg); }
.d12 .die-face {
    width: var(--die-size);
    height: var(--die-size);
    clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
    font-size: calc(var(--die-size) / 3.5);
}
.d12 .face-1 { transform: rotateY(0deg) rotateX(116.565deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-2 { transform: rotateY(72deg) rotateX(63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-3 { transform: rotateY(144deg) rotateX(63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-4 { transform: rotateY(216deg) rotateX(63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-5 { transform: rotateY(288deg) rotateX(63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-6 { transform: rotateY(36deg) rotateX(-63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-7 { transform: rotateY(108deg) rotateX(-63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-8 { transform: rotateY(180deg) rotateX(-116.565deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-9 { transform: rotateY(252deg) rotateX(-63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-10 { transform: rotateY(324deg) rotateX(-63.435deg) translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-11 { transform: translateZ(calc(var(--die-size) * 0.55)); }
.d12 .face-12 { transform: rotateY(180deg) translateZ(calc(var(--die-size) * 0.55)) rotateX(180deg); }


/* D20 - Icosahedron */
.d20 { transform: rotateX(10deg) rotateY(10deg); }
.d20 .die-face {
    width: var(--die-size);
    height: calc(var(--die-size) * 0.866); /* Equilateral triangle height */
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    padding-bottom: calc(var(--die-size) * 0.1);
    font-size: calc(var(--die-size) / 4);
}
.d20 .face-1 { transform: rotateY(0deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.48)); }
.d20 .face-2 { transform: rotateY(36deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.48)) rotateZ(180deg); }
.d20 .face-3 { transform: rotateY(72deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.48)); }
.d20 .face-4 { transform: rotateY(108deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.48)) rotateZ(180deg); }
.d20 .face-5 { transform: rotateY(144deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.48)); }
.d20 .face-6 { transform: rotateY(180deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.48)) rotateZ(180deg); }
.d20 .face-7 { transform: rotateY(216deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.48)); }
.d20 .face-8 { transform: rotateY(252deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.48)) rotateZ(180deg); }
.d20 .face-9 { transform: rotateY(288deg) rotateX(31.7deg) translateZ(calc(var(--die-size) * 0.48)); }
.d20 .face-10 { transform: rotateY(324deg) rotateX(-31.7deg) translateZ(calc(var(--die-size) * 0.48)) rotateZ(180deg); }
.d20 .face-11 { transform: rotateY(18deg) rotateX(79.2deg) translateZ(calc(var(--die-size) * 0.4)); }
.d20 .face-12 { transform: rotateY(54deg) rotateX(-79.2deg) translateZ(calc(var(--die-size) * 0.4)) rotateZ(180deg); }
.d20 .face-13 { transform: rotateY(90deg) rotateX(79.2deg) translateZ(calc(var(--die-size) * 0.4)); }
.d20 .face-14 { transform: rotateY(126deg) rotateX(-79.2deg) translateZ(calc(var(--die-size) * 0.4)) rotateZ(180deg); }
.d20 .face-15 { transform: rotateY(162deg) rotateX(79.2deg) translateZ(calc(var(--die-size) * 0.4)); }
.d20 .face-16 { transform: rotateY(198deg) rotateX(-79.2deg) translateZ(calc(var(--die-size) * 0.4)) rotateZ(180deg); }
.d20 .face-17 { transform: rotateY(234deg) rotateX(79.2deg) translateZ(calc(var(--die-size) * 0.4)); }
.d20 .face-18 { transform: rotateY(270deg) rotateX(-79.2deg) translateZ(calc(var(--die-size) * 0.4)) rotateZ(180deg); }
.d20 .face-19 { transform: rotateY(306deg) rotateX(79.2deg) translateZ(calc(var(--die-size) * 0.4)); }
.d20 .face-20 { transform: rotateY(342deg) rotateX(-79.2deg) translateZ(calc(var(--die-size) * 0.4)) rotateZ(180deg); }


/* Animação */
@keyframes roll {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
  }
  100% {
    transform: rotateX(720deg) rotateY(1080deg) rotateZ(360deg);
  }
}
